(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function l(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=l(r);fetch(r.href,a)}})();function d(t){let e=t.replace(/\D/g,""),l=e.length>=16;return e=e.substring(0,16),e=e.replace(/(\d{4})/g,"$1 ").trim(),{value:e,isValid:l}}function f(t){let e=t.replace(/\D/g,""),l=e.length>=4;return e=e.replace(/(\d{2})/g,"$1/"),e=e.substring(0,5),{value:e,isValid:l}}function p(t){const e=new Date,l=e.getFullYear()%100,i=e.getMonth()+1;let[r,a]=t.split("/"),n=!0;return parseInt(r)>12&&(alert("чисто месяца больше 12"),n=!1),parseInt(r)<1&&(alert("чисто месяца меньше 1"),n=!1),parseInt(a)<l&&(alert("указан прошедший год"),n=!1),parseInt(a)===l&&parseInt(r)<=i&&(alert("указана прошедшая дата"),n=!1),{value:`${r}/${a}`,isValid:n}}function v(t){const e=t.replace(/\D/g,"").substring(0,3),l=e.length>=3;return{value:e,isValid:l}}let u=!1,o=!1,c=!1;document.querySelector("#card-number").addEventListener("input",t=>{const e=d(t.target.value);t.target.value=e.value,u=e.isValid,s()});document.querySelector("#expire-date").addEventListener("input",t=>{const e=f(t.target.value);t.target.value=e.value,s()});document.querySelector("#expire-date").addEventListener("blur",t=>{const e=p(t.target.value);t.target.value=e.value,o=e.isValid,s()});document.querySelector("#cvc").addEventListener("input",t=>{const e=v(t.target.value);t.target.value=e.value,c=e.isValid,s()});function s(){const t=document.querySelector("#pay-btn");u&&o&&c?t.disabled=!1:t.disabled=!0}
